<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/thomas-lowry/figma-plugin-ds/dist/figma-plugin-ds.css">
<style>
  body {
    padding: 1.5em;
  }

  div {
    margin: 1em;
  }

  input {
    display: block;
  }

  .input__field{
    border: 1px solid var(--black1);
    border-radius: ;
  }

  .radio__button {
    opacity: 100%!important;
    width: 5em;
  }

  .dropdown_label {
    font-size: 11px;
    color: var(--black8);
  }

  .variant-dropdown {
    display: none;
  }
</style>

<h2>Clubs Asset Maker</h2>

<div>
  <h3>Copy</h3>
  <div>
    <label for="header">Header</label>
    <input class="input__field" type="text" value="Your Header" id="header">
  </div>
  <div>
    <label for="cta1">CTA 1</label>
    <input class="input__field" type="text" value="Your CTA 1" id="cta1">

    <label for="cta2">CTA 2</label>
    <input class="input__field" type="text" value="Your CTA 2" id="cta2">
  </div>
  <div>
    <label for="pretext">PreText</label>
    <input class="input__field" type="text" value="Your PreText" id="pretext">
  </div>
  <div>
    <label for="subtext">SubText</label>
    <input class="input__field" type="text" value="Your SubText" id="subtext">
  </div>
  <div>
    <label for="copyright">Copyright</label>
    <input class="input__field" type="text" value="Your Copyright" id="copyright">
  </div>
</div>

<div>
  <h3>Assets</h3>
  <!-- full size -->
  <div class="switch">
    <input class="switch__toggle" type="checkbox" id="full-size-selected">
    <label class="switch__label" for="full-size-selected">Full Size</label>
    <div class="variant-dropdown" id="full-size-variants">
      <label for="full-size-variant" class="dropdown_label">Variant:</label>
      <select id="full-size-variant">
        <option value="fs-header-only">Header Only</option>
        <option value="fs-header-subtext">Header and Subtext</option>
        <option value="fs-header-cta1">Header and Single CTA</option>
        <option value="fs-header-cta2">Header and Double CTA</option>
      </select>
    </div>
  </div>
    <!-- half size -->
  <div class="switch">
    <input class="switch__toggle" type="checkbox" id="half-size-selected">
    <label class="switch__label" for="half-size-selected">Half Size</label>
    <div class="variant-dropdown" id="half-size-variants">
      <label for="half-size-variant" class="dropdown_label">Variant:</label>
      <select id="half-size-variant">
        <option value="hs-header-only">Header Only</option>
        <option value="hs-header-subtext">Header and Subtext</option>
        <option value="hs-header-cta1">Header and Single CTA</option>
        <!-- <option value="hs-header-cta2">Header and Double CTA</option> -->
        <option value="hs-header-subtext-cta1">Header, Subtext and CTA</option>
        <option value="hs-header-pretext-cta1">Header, Pretext and CTA</option>
      </select>
    </div>
  </div>

  <!-- search results -->
  <div class="switch">
    <input class="switch__toggle" type="checkbox" id="search-results-selected">
    <label class="switch__label" for="search-results-selected">Search Results</label>
    <div class="variant-dropdown" id="search-results-variants">
      <label for="search-results-variant" class="dropdown_label">Variant:</label>
      <select id="search-results-variant">
        <option value="sr-header-only">Header Only</option>
        <option value="sr-header-subtext">Header and Subtext</option>
        <option value="sr-header-cta1">Header and Single CTA</option>
        <option value="sr-header-cta2">Header and Double CTA</option>
        <option value="sr-header-pretext-cta1">Header, Pretext and Single CTA</option>
        <option value="sr-header-pretext-cta2">Header, Pretext and Double CTA</option>
      </select>
    </div>
  </div>

  <!-- curated page -->
  <div class="switch">
    <input class="switch__toggle" type="checkbox" id="curated-page-selected">
    <label class="switch__label" for="curated-page-selected">Curated Page</label>
    <div class="variant-dropdown" id="curated-page-variants">
      <label for="curated-page-variant" class="dropdown_label">Variant:</label>
      <select id="curated-page-variant">
        <option value="cp-header-only">Header Only</option>
        <option value="cp-header-subtext">Header and Subtext</option>
        <option value="cp-header-cta1">Header and Single CTA</option>
        <option value="cp-header-cta2">Header and Double CTA</option>
        <option value="cp-header-pretext-cta1">Header, Pretext and Single CTA</option>
        <option value="cp-header-pretext-cta2">Header, Pretext and Double CTA</option>
      </select>
    </div>
  </div>

  <!-- mobile curated page -->
  <div class="switch">
    <input class="switch__toggle" type="checkbox" id="curated-page-mobile-selected">
    <label class="switch__label" for="curated-page-mobile-selected">Mobile Curated Page</label>
    <div class="variant-dropdown" id="curated-page-mobile-variants">
      <label for="curated-page-mobile-variant" class="dropdown_label">Variant:</label>
      <select id="curated-page-mobile-variant">
        <option value="cpm-header-only">Header Only</option>
        <option value="cpm-header-subtext">Header and Subtext</option>
        <option value="cpm-header-cta1">Header and Single CTA</option>
        <option value="cpm-header-cta2">Header and Double CTA</option>
        <option value="cpm-header-pretext-cta1">Header, Pretext and Single CTA</option>
        <option value="cpm-header-pretext-cta2">Header, Pretext and Double CTA</option>
      </select>
    </div>
  </div>

  <!-- square -->
  <div class="switch">
    <input class="switch__toggle" type="checkbox" id="square-selected">
    <label class="switch__label" for="square-selected">Square</label>
    <div class="variant-dropdown" id="square-variants">
      <label for="square-variant" class="dropdown_label">Variant:</label>
      <select id="square-variant">
        <option value="sq-header-only">Header Only</option>
        <option value="sq-header-subtext">Header and Subtext</option>
        <option value="sq-header-cta1">Header and Single CTA</option>
        <option value="sq-header-pretext-cta1">Header, Pretext and Single CTA</option>
        <option value="sq-header-subtext-cta1">Header, Subtext and Single CTA</option>
      </select>
    </div>
  </div>

  <!-- background color -->
  <div>
    <label for="background-color" class="dropdown_label">Background Color:</label>
    <select id="background-color">
      <option value="pink">Pink</option>
      <option value="orange">Orange</option>
      <option value="yellow">Yellow</option>
      <option value="green">Green</option>
      <option value="blue">Blue</option>
    </select>
  </div>

  <!-- submit -->
  <div class="submit">
    <button class="button button--primary" id="submit-post">Submit</button>
  </div>

  <script>
    // function for variant menu display
    const toggleDropdown = (checkboxId, dropdownId) => {
      document.getElementById(checkboxId).addEventListener('change', (event) => {
        const dropdown = document.getElementById(dropdownId);
        dropdown.style.display = event.target.checked ? 'block' : 'none';
      });
    }

    toggleDropdown('full-size-selected', 'full-size-variants');
    toggleDropdown('half-size-selected', 'half-size-variants');
    toggleDropdown('search-results-selected', 'search-results-variants');
    toggleDropdown('curated-page-selected', 'curated-page-variants');
    toggleDropdown('curated-page-mobile-selected', 'curated-page-mobile-variants');
    toggleDropdown('square-selected', 'square-variants');

    // event handler that gathers user inputs
    document.getElementById('submit-post').onclick = () => {
      const header = document.getElementById('header').value;
      const cta1 = document.getElementById('cta1').value;
      const cta2 = document.getElementById('cta2').value;
      const pretext = document.getElementById('pretext').value;
      const subtext = document.getElementById('subtext').value;
      const copyright = document.getElementById('copyright').value;

      const fullSelected = document.getElementById('full-size-selected').checked;
      const halfSelected = document.getElementById('half-size-selected').checked;
      const searchSelected = document.getElementById('search-results-selected').checked;
      const curatedSelected = document.getElementById('curated-page-selected').checked;
      const curatedMobileSelected = document.getElementById('curated-page-mobile-selected').checked;
      const squareSelected = document.getElementById('square-selected').checked;
      const backgroundColor = document.getElementById('background-color').value;

      const fullVariant = fullSelected ? document.getElementById('full-size-variant').value : null;
      const halfVariant = halfSelected ? document.getElementById('half-size-variant').value : null;
      const searchVariant = searchSelected ? document.getElementById('search-results-variant').value : null;
      const curatedVariant = curatedSelected ? document.getElementById('curated-page-variant').value : null;
      const curatedMobileVariant = curatedSelected ? document.getElementById('curated-page-mobile-variant').value : null;
      const squareVariant = squareSelected ? document.getElementById('square-variant').value : null;

      // data being sent to TS file
      parent.postMessage({
        pluginMessage: {
          header,
          cta1,
          cta2,
          pretext,
          subtext,
          copyright,
          fullSelected,
          halfSelected,
          searchSelected,
          curatedSelected,
          squareSelected,
          backgroundColor,
          fullVariant,
          halfVariant,
          searchVariant,
          curatedVariant,
          squareVariant
        }
      }, '*');
    }
  </script>